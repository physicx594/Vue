(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cca4279"],{5124:function(t,a,e){var n=e("6fe2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e("499e").default;s("05fbe946",n,!0,{sourceMap:!1,shadowMode:!1})},"6fe2":function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,".toast-body{display:flex;justify-content:center;align-items:center;width:350px;height:44px;border-radius:6px}.fa-ban,.fa-check-circle{padding-top:3px;color:#fff}",""]),t.exports=a},7260:function(t,a,e){"use strict";var n=e("5124"),s=e.n(n);s.a},b430:function(t,a,e){var n=e("24fb");a=n(!1),a.push([t.i,'.navbar-dark .navbar-nav .nav-link{position:relative;font-weight:700;display:block;margin:0 8px}.navbar-dark .navbar-nav .nav-link:after{content:"";display:block;width:0;height:2px;background:#fff;transition:width .5s linear}.navbar-dark .navbar-nav .nav-link:hover:after{width:100%}.navbar-dark .navbar-nav .nav-link span{position:relative;display:block;padding:8px 0}',""]),t.exports=a},c5e3:function(t,a,e){var n=e("b430");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e("499e").default;s("97ce4bf4",n,!0,{sourceMap:!1,shadowMode:!1})},e313:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Navbar"),e("div",{staticClass:"container"},[e("Toast")],1),t.checkSuccess?e("router-view",{attrs:{token:t.token}}):e("div",{staticClass:"mt-5"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}})],1)],1)},s=[],i=(e("ac1f"),e("5319"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark justify-content-between"},[e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Logo")]),t._m(0),e("div",{staticClass:"text-center"},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[e("span",[t._v(" 產品列表 ")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[e("span",[t._v(" 優惠券列表 ")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[e("span",[t._v("訂單列表")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/storages"}},[e("span",[t._v("圖片列表 ")])])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[e("span",[t._v("回首頁")])])],1)])]),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-outline-light my-2",attrs:{type:"submit"},on:{click:t.signOut}},[t._v("登出")])])])}),o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],r={name:"Navbar",methods:{signOut:function(){var t=this;document.cookie="token=; expires=; path=/",setTimeout((function(){t.$router.push("/")}),1e3)}}},c=r,l=(e("fdd4"),e("2877")),u=Object(l["a"])(c,i,o,!1,null,null,null),d=u.exports,v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{position:"fixed",left:"50%","min-width":"300px","z-index":"11000",transform:"translate(-50%)"}},[e("div",{staticClass:"toast mt-3 animate__animated",class:t.animate,attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true",id:"toast","data-autohide":"false"}},["操作失敗,請檢查"===t.message?e("div",{staticClass:"toast-body bg-danger"},[t._m(0),e("div",{staticStyle:{"font-size":"20px","font-weight":"700",color:"white"}},[t._v(t._s(t.message))])]):e("div",{staticClass:"toast-body bg-success"},[t._m(1),e("div",{staticStyle:{"font-size":"20px","font-weight":"700",color:"white"}},[t._v(t._s(t.message))])])])])},f=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mr-2"},[e("i",{staticClass:"fas fa-ban fa-2x"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mr-2"},[e("i",{staticClass:"far fa-check-circle fa-2x"})])}],p={name:"Toast",data:function(){return{animate:{animate__fadeInDownBig:!1,animate__fadeOutUp:!1},message:""}},created:function(){var t=this;this.$bus.$on("message",(function(a){t.animate.animate__fadeInDownBig=!0,$("#toast").toast("show"),t.message=a.fail?a.fail:a,setTimeout((function(){t.animate.animate__fadeInDownBig=!1,t.animate.animate__fadeOutUp=!0,setTimeout((function(){t.animate.animate__fadeOutUp=!1,$("#toast").toast("hide")}),2e3)}),2e3)}))}},h=p,m=(e("7260"),Object(l["a"])(h,v,f,!1,null,null,null)),b=m.exports,g={components:{Navbar:d,Toast:b},name:"Dashboard",data:function(){return{token:"",checkSuccess:!1,isLoading:!0}},methods:{checkLogin:function(){var t=this;this.token=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.axios.defaults.headers.common.Authorization="Bearer ".concat(this.token);var a="".concat("https://course-ec-api.hexschool.io/api","/auth/check");this.axios.post(a,{api_token:this.token}).then((function(a){t.checkSuccess=!0})).catch((function(a){t.$router.push("/login"),console.log(a,"登入失敗,請重新登入")}))}},created:function(){this.checkLogin()}},k=g,_=Object(l["a"])(k,n,s,!1,null,null,null);a["default"]=_.exports},fdd4:function(t,a,e){"use strict";var n=e("c5e3"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-0cca4279.33ee4851.js.map