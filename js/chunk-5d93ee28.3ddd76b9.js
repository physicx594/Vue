(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d93ee28"],{"303a":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".Checkout{counter-reset:step}.Checkout .checkContent{width:100%;display:flex;justify-content:space-between;font-size:13px}.Checkout .checkContent .customerForm{width:100%;margin:0 auto;border:1px solid #ededed}.Checkout .checkContent .customerForm input::-moz-placeholder{font-size:13px}.Checkout .checkContent .customerForm input:-ms-input-placeholder{font-size:13px}.Checkout .checkContent .customerForm input::placeholder{font-size:13px}.Checkout .checkContent .customerForm .btn:focus,.Checkout .checkContent .customerForm .form-control:focus{border:1px solid #ced4da;box-shadow:none}.Checkout .checkContent .customerForm form{padding:24px;text-align:left}.Checkout .checkContent .customerForm form label{position:relative}.Checkout .checkContent .customerForm form label .asterisk{color:maroon;font-weight:700;padding-bottom:10px;position:absolute;top:-5px;right:-10px}.Checkout .checkContent .customerForm form .footer{position:relative}.Checkout .checkContent .customerForm form .footer .footBtn{position:absolute;width:100%;display:flex;justify-content:space-between;align-items:center;bottom:0;right:0;padding:0 5px}.Checkout .checkContent .customerForm form .footer .footBtn .btn{background:#2a5529;color:#fff}",""]),t.exports=e},"43fb":function(t,e,a){"use strict";var o=a("a1be"),s=a.n(o);s.a},a1be:function(t,e,a){var o=a("303a");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=a("499e").default;s("84ae650c",o,!0,{sourceMap:!1,shadowMode:!1})},b0c0:function(t,e,a){var o=a("83ab"),s=a("9bf2").f,r=Function.prototype,i=r.toString,n=/^\s*function ([^ (]*)/,c="name";o&&!(c in r)&&s(r,c,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(t){return""}}})},b7c8:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Checkout"},[a("Navbar"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("CheckoutNav",{attrs:{step1:t.step.step1,step2:t.step.step2}}),a("div",{staticClass:"checkContent"},[a("div",{staticClass:"customerForm mb-5"},[a("div",{staticClass:"header "},[t._v("顧客資料")]),a("Validation-Observer",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[a("form",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col"},[a("Validation-Provider",{attrs:{rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("label",{attrs:{for:"name"}},[t._v("姓名"),a("span",{staticClass:"asterisk"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:s,attrs:{type:"text",id:"name",name:"姓名",placeholder:"請輸入姓名"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),a("span",{staticClass:"invalid-feedback text-left"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group col"},[a("Validation-provider",{attrs:{rules:"required|min:10"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("label",{attrs:{for:"tel"}},[t._v("電話"),a("span",{staticClass:"asterisk"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.tel,expression:"form.tel"}],staticClass:"form-control",class:s,attrs:{type:"tel",id:"tel",name:"電話",placeholder:"請輸入電話"},domProps:{value:t.form.tel},on:{input:function(e){e.target.composing||t.$set(t.form,"tel",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col"},[a("Validation-Provider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("label",{attrs:{for:"email"}},[t._v("電子信箱"),a("span",{staticClass:"asterisk"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:s,attrs:{type:"email",id:"email",name:"電子信箱",placeholder:"請輸入信箱"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-group col"},[a("Validation-Provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors,s=e.classes;return[a("label",{attrs:{for:"address"}},[t._v("地址"),a("span",{staticClass:"asterisk"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:s,attrs:{type:"text",id:"address",name:"地址",placeholder:"請輸入地址"},domProps:{value:t.form.address},on:{input:function(e){e.target.composing||t.$set(t.form,"address",e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col mb-0"},[a("label",{attrs:{for:"message"}},[t._v("備註")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",staticStyle:{height:"120px"},attrs:{id:"message"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),a("div",{staticClass:"form-group col footer mb-0"},[a("label",{attrs:{for:"payment"}},[t._v("付款方式"),a("span",{staticClass:"asterisk"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.payment,expression:"form.payment"}],staticClass:"form-control",staticStyle:{"font-size":"13px"},attrs:{id:"payment",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"payment",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[t._v(" 請選擇付款方式 ")]),a("option",{attrs:{value:"WebATM"}},[t._v(" WebATM ")]),a("option",{attrs:{value:"ATM"}},[t._v(" ATM ")]),a("option",{attrs:{value:"CVS"}},[t._v(" CVS ")]),a("option",{attrs:{value:"Barcode"}},[t._v(" Barcode ")]),a("option",{attrs:{value:"Credit"}},[t._v(" Credit ")]),a("option",{attrs:{value:"ApplePay"}},[t._v(" ApplePay ")]),a("option",{attrs:{value:"GooglePay"}},[t._v(" GooglePay ")])]),a("div",{staticClass:"footBtn"},[a("router-link",{attrs:{to:"/cart"}},[t._v("←回購物車")]),a("router-link",{attrs:{to:"/CheckoutPay"}},[a("button",{staticClass:"btn",staticStyle:{"font-size":"13px"},attrs:{disabled:o,type:"button"},on:{click:t.createOrder}},[t._v("提交訂單")])])],1)])])])]}}])})],1)])],1)]),a("Footer")],1)},s=[],r=(a("99af"),a("4160"),a("b0c0"),a("a9e3"),a("159b"),a("bebf")),i=a("acd4"),n=a("7271"),c={name:"Checkout",components:{Navbar:r["a"],Footer:i["a"],CheckoutNav:n["a"]},data:function(){return{step:{step1:!0,step2:!0},cart:[],totalPrice:0,shippingFee:200,form:{name:"",email:"",tel:"",address:"",message:"",payment:""}}},methods:{getCart:function(){var t=this,e="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/cart");this.axios.get(e).then((function(e){t.cart=e.data.data.carts,t.totalPrice=0,t.cart.forEach((function(e){t.totalPrice+=Number(e.product.price*e.qty||e.product.origin_price*e.qty)})),t.totalPrice>3e3?t.shippingFee=0:t.shippingFee=200,t.$store.dispatch("updateLoading",!1)}))},createOrder:function(){var t=this,e="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/order"),a={data:{user:{name:this.form.name,email:this.form.email,tel:this.form.tel,address:this.form.address},message:this.form.message}};this.axios.post(e,a).then((function(e){t.getCart(),t.$bus.$emit("orderId",e.data.orderId)}))}},created:function(){this.$store.dispatch("updateLoading",!0),this.getCart()}},l=c,u=(a("43fb"),a("2877")),m=Object(u["a"])(l,o,s,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-5d93ee28.3ddd76b9.js.map