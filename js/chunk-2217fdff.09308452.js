(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2217fdff"],{"3f2d":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"adminStorages"},[e("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"container"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",[e("tr"),e("tr",t._l(t.storages,(function(a){return e("th",{key:a.id,staticClass:"border-0 images"},[e("viewer",{attrs:{options:t.options}},[e("figure",[e("img",{staticClass:"img-fluid",attrs:{src:a.path}})])]),e("div",{staticClass:"imgHover"},[e("span",{on:{click:function(e){return t.openModal(a)}}},[e("i",{staticClass:"far fa-trash-alt fa-3x"})])])],1)})),0)])])]),e("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"deleteModal"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(1),e("div",{staticClass:"modal-body"},[e("figure",[e("img",{staticClass:"img-fluid",attrs:{src:t.tempImg.path,width:"200"}})])]),e("div",{staticClass:"modal-footer justify-content-between"},[t._m(2),e("div",[e("button",{staticClass:"btn btn-danger mr-1",attrs:{type:"button"},on:{click:function(a){return t.deleteImg(t.tempImg)}}},[t._v("確認")]),e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")])])])])])])],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("圖片→")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-white"},[e("h5",{staticClass:"modal-title"},[t._v("刪除圖片")]),e("button",{staticClass:"close text-white",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",[t._v("是否 "),e("span",{staticClass:"text-danger font-weight-bold"},[t._v("刪除")]),t._v(" 這張圖片")])}],o=(e("99af"),{name:"Storages",data:function(){return{options:{navbar:!1,title:!1},status:"",isLoading:!1,storages:[],tempImg:{}}},methods:{getStorages:function(){var t=this;this.isLoading=!0;var a="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/admin/upload");this.axios.get(a).then((function(a){t.storages=a.data.images,t.isLoading=!1,"delete"===t.status&&t.$bus.$emit("message","刪除成功"),t.status=""})).catch((function(a){t.isLoading=!1,t.$bus.$emit("message",{fail:"操作失敗,請檢查"})}))},deleteImg:function(t){var a=this;this.isLoading=!0;var e="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/admin/upload/").concat(t.id);this.axios.delete(e).then((function(t){$("#deleteModal").modal("hide"),a.status="delete",a.getStorages()})).catch((function(t){a.isLoading=!1,a.$bus.$emit("message",{fail:"操作失敗,請檢查"}),$("#deleteModal").modal("hide")}))},openModal:function(t){$("#deleteModal").modal("show"),this.tempImg=t}},created:function(){this.getStorages()}}),n=o,r=(e("a9f7"),e("2877")),d=Object(r["a"])(n,i,s,!1,null,null,null);a["default"]=d.exports},"5b3e":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".adminStorages .modal-body{width:1580;margin:auto}.adminStorages{margin-top:70px}.adminStorages tbody tr{width:100%;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start}.adminStorages tbody tr th{position:relative;width:25%}.adminStorages tbody tr th:hover{cursor:zoom-in}.adminStorages tbody tr th:hover img{-webkit-filter:brightness(20%);filter:brightness(20%)}.adminStorages tbody tr th:hover .imgHover{color:#fff;opacity:1}.adminStorages tbody tr th .imgHover{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);opacity:0}.adminStorages tbody tr th .imgHover:hover{cursor:pointer;color:red}.adminStorages figure{height:150px;overflow:hidden}.adminStorages figure img{width:100%;height:100%;border-radius:6px;-o-object-fit:cover;object-fit:cover;-o-object-position:center center;object-position:center center}",""]),t.exports=a},"72f0":function(t,a,e){var i=e("5b3e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("8a33ae4c",i,!0,{sourceMap:!1,shadowMode:!1})},a9f7:function(t,a,e){"use strict";var i=e("72f0"),s=e.n(i);s.a}}]);
//# sourceMappingURL=chunk-2217fdff.09308452.js.map