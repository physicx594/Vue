(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bd9b221"],{"0da2":function(t,e,a){var o=a("4b70");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=a("499e").default;n("731531a4",o,!0,{sourceMap:!1,shadowMode:!1})},2355:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Cart"},[a("Navbar"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("CheckoutNav",{attrs:{step1:t.step1}}),a("div",{staticClass:"cartContent mb-5"},[a("div",{staticClass:"header"},[t._v("購物清單")]),a("table",{staticClass:"table mb-0 rwd-table"},[t._m(0),a("tbody",t._l(t.cart,(function(e,o){return a("tr",{key:o,attrs:{scope:"row"}},[a("td",[a("img",{attrs:{src:e.product.imageUrl[0]}})]),a("td",[t._v(t._s(e.product.title))]),e.product.price?a("td",[t._v(t._s(t._f("money")(e.product.price)))]):a("td",[t._v(t._s(t._f("money")(e.product.origin_price)))]),a("td",[a("div",{staticClass:"input-group justify-content-center"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn ",attrs:{type:"button",disabled:1===e.qty||!0===t.formLoading},on:{click:function(a){return t.changeQuantity(e,e.qty-1)}}},[t._v("-")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],staticClass:"form-control col-4 quantity text-center p-0",attrs:{type:"number",min:"1"},domProps:{value:e.qty},on:{change:function(a){return t.changeQuantity(e,e.qty)},input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn",attrs:{type:"button",disabled:!0===t.formLoading},on:{click:function(a){return t.changeQuantity(e,e.qty+1)}}},[t._v("+")])])])]),a("td",[t._v(t._s(t._f("money")(e.product.price*e.qty)))]),a("td",[a("button",{staticClass:"btn delete",attrs:{type:"button",disabled:!0===t.formLoading},on:{click:function(a){return t.delItem(e.id)}}},[a("i",{staticClass:"far fa-trash-alt"})])])])})),0)]),a("div",{staticClass:"footer"})]),a("div",{staticClass:"cartSection mb-5"},[t._m(1),a("div",{staticClass:"orderSummary"},[!1===t.formLoading?a("div",{staticClass:"header"},[t._v("訂單資訊")]):a("div",{staticClass:"cartload"}),a("div",{staticClass:"info"},[a("div",{staticClass:"infoSection"},[a("div",[t._v("小計:")]),a("div",[t._v(t._s(t._f("money")(t.totalPrice)))])]),a("div",{staticClass:"infoSection"},[0===t.shippingFee?a("div",{staticClass:"text-success"},[t._v("滿額免運:")]):a("div",[t._v("運費:")]),a("div",{class:{"text-success":0===t.shippingFee}},[t._v(t._s(t._f("money")(t.shippingFee)))])]),a("div",{staticClass:"infoSection"},[a("div",[t._v("折扣碼:")]),a("div",[t._v("－"+t._s(t._f("money")(t.discountPrice)))])]),a("div",{staticClass:"form-group infoSection"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",id:"coupon",placeholder:"請輸入折扣碼"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}}),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.useCoupon}},[t._v("使用")])]),t.couponMsg?a("div",{staticClass:"text-danger text-left mb-1"},[t._v(t._s(t.couponMsg))]):t._e(),t.totalPrice<600?a("div",{staticClass:"minimum text-left text-danger"},[t._v("最低訂單量，需滿600元才配送(不含運費)")]):t._e()]),a("div",{staticClass:"infoCheckout"},[a("div",{staticClass:"infoPrice"},[a("div",[t._v("總計:")]),a("div",{staticClass:"text-danger"},[t._v(t._s(t._f("money")(t.totalPrice+t.shippingFee-t.discountPrice)))])]),a("router-link",{staticClass:"toCheckout",attrs:{to:"/Checkout"}},[a("button",{staticClass:"btn  btn-success",attrs:{disabled:t.totalPrice<600,type:"button"}},[t._v("前往結帳")])])],1)])])],1)]),a("Footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"table"},[a("tr",{attrs:{scope:"row"}},[a("th",{staticClass:"pic"}),a("th",{staticClass:"name"},[t._v("品名")]),a("th",{staticClass:"price"},[t._v("單價")]),a("th",{staticClass:"qty"},[t._v("數量")]),a("th",{staticClass:"total"},[t._v("小計")]),a("th",{staticClass:"del"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderForm"},[a("div",{staticClass:"header"},[a("span",[t._v("選擇送貨及付款方式")])]),a("form",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"delivery-country"}},[t._v("送貨地點")]),a("select",{staticClass:"form-control",attrs:{id:"country"}},[a("option",[t._v("台灣")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"delivery-method"}},[t._v("送貨方式")]),a("select",{staticClass:"form-control",attrs:{id:"delivery-method"}},[a("option",[t._v("黑貓宅配")])])]),a("div",[a("p",[t._v("全省可宅配，最低訂單量"),a("span",{staticClass:"text-danger"},[t._v("需滿600元")]),t._v("才配送(不含運費)，冷凍運費200元，滿3000元即享免運費。")]),a("p",{staticClass:"m-0"},[t._v("「冷凍」和「常溫」為不同溫層的商品，無法一起出貨，請分開下單結帳，謝謝！")])])])])}],r=(a("99af"),a("bebf")),i=a("acd4"),s=a("7271"),c={name:"Cart",components:{Navbar:r["a"],Footer:i["a"],CheckoutNav:s["a"]},data:function(){return{discountPrice:0,coupon:{},couponCode:"",couponMsg:"",step1:!0}},methods:{useCoupon:function(){var t=this;this.formLoading=!0,this.couponMsg="";var e="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/coupon");this.axios.post(e,{data:{code:this.couponCode}}).then((function(e){console.log(e),t.coupon=e.data.data,t.discountPrice=Math.floor(t.totalPrice-t.coupon.final_total),t.formLoading=!1})).catch((function(e){t.couponMsg=e.response.data.message,t.discountPrice=0,t.couponCode="",t.formLoading=!1}))},changeQuantity:function(t,e){this.$store.dispatch("changeQuantity",{item:t,quantity:e})},delItem:function(t){this.$store.dispatch("delItem",t)}},computed:{cart:function(){return this.$store.state.cart},totalPrice:function(){return this.$store.state.totalPrice},shippingFee:function(){return this.$store.state.shippingFee},formLoading:function(){return this.$store.state.formLoading}},created:function(){var t=this;this.$store.dispatch("updateLoading",!0),setTimeout((function(){t.$store.dispatch("updateLoading",!1)}),1e3)}},d=c,l=(a("ed1e"),a("2877")),p=Object(l["a"])(d,o,n,!1,null,null,null);e["default"]=p.exports},"4b70":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".Cart{font-weight:700;counter-reset:step}.Cart .cartload{width:100%;height:40px;font-size:17px;line-height:28px;padding:6px 12px;text-align:left;letter-spacing:5px;background:linear-gradient(45deg,#fec81a,#fec81a 20%,#2a5529 0,#2a5529 45%,#fec81a 0,#fec81a 70%,#2a5529 0,#2a5529 95%,#fec81a 0,#fec81a);background-size:30px 30px;background-position:0 0;-webkit-animation:loading .5s linear infinite;animation:loading .5s linear infinite}@-webkit-keyframes loading{0%{background-position:0 0}to{background-position:30px 0}}@keyframes loading{0%{background-position:0 0}to{background-position:30px 0}}.Cart .btn:focus,.Cart .form-control:focus{border:1px solid #ced4da;box-shadow:none}.Cart .cartContent{width:100%;margin:0 auto;border:1px solid #ededed}.Cart .cartContent table{width:100%}.Cart .cartContent table .name,.Cart .cartContent table .price,.Cart .cartContent table .qty,.Cart .cartContent table .total{width:20%}.Cart .cartContent table .del,.Cart .cartContent table .pic{width:10%}.Cart .cartContent table{text-align:center;font-size:13px}.Cart .cartContent table th{border:none}.Cart .cartContent table td,.Cart .cartContent table th{padding:8px}.Cart .cartContent table td img,.Cart .cartContent table th img{width:50px;height:50px}.Cart .cartContent table td input::-webkit-inner-spin-button,.Cart .cartContent table td input::-webkit-outer-spin-button,.Cart .cartContent table th input::-webkit-inner-spin-button,.Cart .cartContent table th input::-webkit-outer-spin-button{-webkit-appearance:none}.Cart .cartContent table td .input-group>.input-group-prepend>.btn,.Cart .cartContent table th .input-group>.input-group-prepend>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.Cart .cartContent table td .input-group>.input-group-append>.btn,.Cart .cartContent table th .input-group>.input-group-append>.btn{border-top-left-radius:0;border-bottom-left-radius:0}.Cart .cartContent table td .btn,.Cart .cartContent table th .btn{border-radius:50px;border:1px solid #2a5529;color:#2a5529}.Cart .cartContent table td .btn:hover,.Cart .cartContent table th .btn:hover{background:#2a5529;color:#fec81a}.Cart .cartContent table td .delete,.Cart .cartContent table th .delete{color:maroon;border:1px solid maroon}.Cart .cartContent table td .delete:hover,.Cart .cartContent table th .delete:hover{background:maroon;color:#fff}.Cart .cartSection{width:100%;display:flex;justify-content:space-between;font-size:13px}.Cart .cartSection .orderForm{width:60%;border:1px solid #ededed}.Cart .cartSection .orderForm form{padding:12px;text-align:left}.Cart .cartSection .orderForm form p{border-left:3px solid #ced4da;padding:0 5px}.Cart .cartSection .orderSummary{position:relative;width:35%;border:1px solid #ededed;height:300px}.Cart .cartSection .orderSummary .info{position:relative;padding:8px 10px;border-bottom:1px solid #ededed}.Cart .cartSection .orderSummary .infoSection{display:flex;justify-content:space-between;margin-bottom:8px}.Cart .cartSection .orderSummary .infoSection input{width:70%}.Cart .cartSection .orderSummary .infoSection input::-moz-placeholder{font-size:13px}.Cart .cartSection .orderSummary .infoSection input:-ms-input-placeholder{font-size:13px}.Cart .cartSection .orderSummary .infoSection input::placeholder{font-size:13px}.Cart .cartSection .orderSummary .infoSection .btn{font-size:13px}.Cart .cartSection .orderSummary .infoCheckout{width:100%;height:100%;max-height:75px;padding:8px 10px}.Cart .cartSection .orderSummary .infoCheckout .infoPrice{display:flex;justify-content:space-between;font-size:13px;position:relative;margin-bottom:5px}.Cart .cartSection .orderSummary .infoCheckout .toCheckout .btn{width:100%;display:block;font-size:13px}@media screen and (max-width:996px){.Cart .cartSection{flex-direction:column}.Cart .cartSection .orderForm{width:100%;margin-bottom:48px}.Cart .cartSection .orderSummary{width:100%}}@media screen and (max-width:768px){.Cart .cartContent table tbody tr td:first-child,.Cart .cartContent table tbody tr td:nth-child(5),.Cart .cartContent table thead tr th:first-child,.Cart .cartContent table thead tr th:nth-child(5){display:none}.Cart .cartContent table td{padding:8px 5px}}",""]),t.exports=e},ed1e:function(t,e,a){"use strict";var o=a("0da2"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-3bd9b221.c515218b.js.map