(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c4d4910"],{3033:function(t,s,a){var i=a("e178");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=a("499e").default;e("2c8c57fa",i,!0,{sourceMap:!1,shadowMode:!1})},a185:function(t,s,a){"use strict";var i=a("3033"),e=a.n(i);e.a},e178:function(t,s,a){var i=a("24fb");s=i(!1),s.push([t.i,".adminOrders{margin-top:70px}",""]),t.exports=s},efd9:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"adminOrders"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("div",{staticClass:"container"},[a("table",{staticClass:"table mt-3"},[t._m(0),a("tbody",t._l(t.orders,(function(s,i){return a("tr",{key:i,attrs:{scope:"row"}},[a("th",{staticClass:"text-center"},[t._v(t._s(i+1))]),a("td",[t._v(t._s(new Date(1e3*s.create_at).toLocaleString()))]),a("td",[a("ul",{staticClass:"list-unstyled"},t._l(s.products,(function(s,i){return a("li",{key:i},[t._v(" "+t._s(s.product.title)+" 數量："+t._s(s.qty)+" "+t._s(s.product.unit)+" ")])})),0)]),a("td",[t._v(t._s(s.payment))]),a("td",[t._v("$"+t._s(s.total))]),a("td",[a("div",{staticClass:"custom-control custom-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.is_paid,expression:"item.is_paid"}],staticClass:"custom-control-input",attrs:{id:s.id,type:"checkbox"},domProps:{checked:Array.isArray(s.is_paid)?t._i(s.is_paid,null)>-1:s.is_paid},on:{click:function(a){return t.orderPaid(s)},change:function(a){var i=s.is_paid,e=a.target,c=!!e.checked;if(Array.isArray(i)){var n=null,r=t._i(i,n);e.checked?r<0&&t.$set(s,"is_paid",i.concat([n])):r>-1&&t.$set(s,"is_paid",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(s,"is_paid",c)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:s.id}},[s.is_paid?a("strong",{staticClass:"text-success"},[t._v("已付款")]):a("span",{staticClass:"text-muted"},[t._v("尚未付款")])])])])])})),0)])])],1)},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",{staticClass:"table"},[a("tr",{attrs:{scope:"row "}},[a("th",{staticClass:"text-center",attrs:{width:"6%"}},[t._v("編號")]),a("th",[t._v("下單時間")]),a("th",[t._v("購買款項")]),a("th",[t._v("付款方式")]),a("th",[t._v("應付金額")]),a("th",{attrs:{width:"12%"}},[t._v("是否付款")])])])}],c=(a("99af"),{name:"Orders",data:function(){return{isLoading:!1,orders:[]}},methods:{getOrders:function(){var t=this;this.isLoading=!0;var s="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/admin/orders");this.axios.get(s).then((function(s){t.orders=s.data.orders,t.isLoading=!1})).catch((function(s){t.isLoading=!1,t.$bus.$emit("message",{fail:"操作失敗,請檢查"})}))},orderPaid:function(t){var s=this;this.isLoading=!0;var a="".concat("https://ec-course-api.hexschool.io/v2","/api/").concat("healthy-diet","/admin/order/").concat(t.id);this.axios.put(a,{data:{is_paid:!t.is_paid}}).then((function(t){s.getOrders(),s.$bus.$emit("message","修改成功")})).catch((function(t){s.isLoading=!1,console.log(t,"執行失敗")}))}},created:function(){this.getOrders()}}),n=c,r=(a("a185"),a("2877")),o=Object(r["a"])(n,i,e,!1,null,null,null);s["default"]=o.exports}}]);
//# sourceMappingURL=chunk-0c4d4910.a9e213f4.js.map